---
title: "Burger run"
subtitle: "A directed graph solution to a *New Scientist* puzzle"
author: "Andrew J. Sims"
date: "`r Sys.Date()`"
output: rmarkdown::pdf_document
vignette: >
  %\VignetteIndexEntry{GT00 - A directed graph solution to a *New Scientist* puzzle}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
bibliography: "references.bib"
csl: "scientific-reports.csl"
---
```{r, include = FALSE}
rm(list=ls())
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup, echo=F}
library('rdecision')
```

# Introduction

# Constructing the graph
The grid has 25 nodes and 40 edges (20 horizontal and 20 vertical). These form
a directed graph because it is allowed to drive down or right only. Seven of 
the edges are defined as "Big Burger" edges. 

Although it possible to construct the graph by creating 25 node 
objects explicitly, it is more compact to create a list of vertices
in a loop construct. Indices $i = [1 .. 5]$ and $j = [1 .. 5]$ are
used to identify grid intersections in the vertical and horizontal directions
respectively. Each node is labelled as $N_{i,j}$ and the index of node
$N_{i,j}$ in the list is $5(i-1)+j$.

Similarly, edges (arrows) are constructed more compactly in a list, with
horizontal edges being labelled $H_{i,j}$ (the horizontal edge joining node
$N_{i,j}$ to node $N_{i,j+1}$) and the vertical edges similarly as $V_{i,j}$.

```{r construct-graph, echo=TRUE}
# create vertices
V <- list()
for (i in 1:5) {
  for (j in 1:5) {
    V <- c(V, Node$new(paste("N",i,j,sep="")))
  }
}
# create edges
E <- list()
for (i in 1:5) {
  for (j in 1:4) {
    E <- c(E, Arrow$new(V[[5*(i-1)+j]], V[[5*(i-1)+j+1]], paste("H",i,j,sep="")))
  }
} 
for (i in 1:4) {
  for (j in 1:5) {
    E <- c(E, Arrow$new(V[[5*(i-1)+j]], V[[5*i+j]], paste("V",i,j,sep="")))
  }
} 
# create graph
G <- Digraph$new(V,E)
```





